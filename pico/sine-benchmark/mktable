#!/usr/bin/env perl

use Math::Trig;

open(FH, '>', 'sine-table.cc') or die "cannot open file";
select FH;

print <<'EOI';
// autogenerated file. Do not alter

#include <stdint.h>

/*
uses signed fixed point integers with 10 fractional bits
*/

int32_t sin_table[64] = {
EOI

for (my $i =0; $i < 64; $i++) {
	my $sin = sin($i/64 * 2 * pi());
	$sin = int($sin * 2** 10); # floor
	print "\t$sin";
	if($i<63) { print ","; }
	print "\n";
}

print <<'EOI';
};

EOI

close FH;
